// Palette inspirée de ton existant
$primary: #00b4d8;
$primary-dark: #0077b6;
$accent: #7c4dff;
$success: #10b981;
$warning: #f59e0b;
$bg: #ffffff;        // fond blanc principal
$bg-soft: #f7f9fc;   // sections
$border: #e6e9ef;
$text: #1f2937;
$muted: #6b7280;

.page {
  background: $bg;
  padding: 1.5rem 2rem 3rem;
}

.header {
  text-align: center;
  margin-bottom: 1.25rem;

  h1 { margin: 0 0 .25rem 0; color: #0f172a; font-size: 1.6rem; }
  p { color: $muted; margin: 0; }
}

/* Filtres */
.filters {
  display: flex; align-items: center; justify-content: space-between;
  gap: 1rem; background: $bg-soft; padding: 1rem; border: 1px solid $border; border-radius: 12px;

  .search {
    display: flex; gap: .5rem; flex: 1;
    input {
      flex: 1; padding: .7rem .9rem; border: 1px solid $border; border-radius: 10px; outline: none;
      &:focus { border-color: $primary; box-shadow: 0 0 0 3px rgba(0,180,216,.15); }
    }
  }

  .toggles {
    display: flex; align-items: center; gap: .5rem;
    .switch-label { color: $muted; font-size: .9rem; }
  }
}

/* Sélecteurs */
.selectors {
  display: grid; grid-template-columns: repeat(4, minmax(0, 1fr)); gap: 1rem; margin: 1rem 0 1.25rem;

  .select, .range {
    background: $bg; border: 1px solid $border; border-radius: 12px; padding: .75rem .9rem;
    label { display: block; font-size: .85rem; color: $muted; margin-bottom: .35rem; }
    select, input[type="number"] {
      width: 100%; padding: .55rem .6rem; border: 1px solid $border; border-radius: 8px; outline: none;
      &:focus { border-color: $primary; box-shadow: 0 0 0 3px rgba(0,180,216,.12); }
    }
    .range-row { display: flex; align-items: center; gap: .5rem; }
    .range-row span { color: $muted; }
  }

  @media (max-width: 1200px) { grid-template-columns: repeat(2, 1fr); }
  @media (max-width: 640px)  { grid-template-columns: 1fr; }
}

/* Grille principale */
.grid {
  display: grid; grid-template-columns: 1fr 320px; gap: 1rem;

  @media (max-width: 1100px) { grid-template-columns: 1fr; }
}

/* Cartes */
.cards {
  .result-meta { color: $muted; margin-bottom: .5rem; }

  .card {
    background: $bg; border: 1px solid $border; border-radius: 14px; padding: 1rem; margin-bottom: 1rem;
    box-shadow: 0 4px 14px rgba(15,23,42,0.05);

    .card-header {
      display: grid; grid-template-columns: 48px 1fr auto; gap: .8rem; align-items: center;

      .avatar {
        width: 48px; height: 48px; border-radius: 12px; background: $bg-soft; border: 1px solid $border;
        display: grid; place-items: center; color: $primary-dark; font-weight: 700;
      }
      .titles {
        h3 { margin: 0 0 .2rem 0; color: $text; font-size: 1.05rem; }
        .meta { color: $muted; display: flex; gap: .5rem; align-items: center; flex-wrap: wrap; font-size: .92rem; }
      }
      .match {
        display: grid; justify-items: end; gap: .35rem; min-width: 120px;
        .bar { width: 140px; height: 8px; background: #edf2f7; border-radius: 999px; overflow: hidden; }
        .fill { height: 100%; background: $success; }
        .value { color: $muted; font-size: .85rem; }
      }
    }

    .card-body {
      margin-top: .9rem;
      .row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;
        @media (max-width: 640px) { grid-template-columns: 1fr; }
      }
      .block label { display: block; color: $muted; font-size: .85rem; margin-bottom: .35rem; }
      .block .value { color: $text; }
      .chips { display: flex; gap: .5rem; flex-wrap: wrap; }
      .chip { background: #ecfeff; color: $primary-dark; border: 1px solid rgba(0,180,216,.25); padding: .25rem .55rem; border-radius: 999px; font-size: .85rem; }
    }

    .card-actions {
      margin-top: 1rem; display: flex; gap: .5rem; justify-content: flex-end;
    }
  }
}

/* Panneau latéral */
.side .panel {
  position: sticky; top: 1rem;
  background: $bg; border: 1px solid $border; border-radius: 14px; padding: 1rem;
  h4 { margin: 0 0 .6rem 0; color: #0f172a; }
  .suggestions { color: $muted; margin: 0 0 1rem 1rem; }
}

/* CTA bas */
.cta {
  margin-top: 1.25rem; background: $bg-soft; border: 1px solid $border; border-radius: 14px; padding: 1.25rem; text-align: center;
  h3 { margin: 0 0 .25rem; color: #0f172a; }
  p { margin: 0 0 .8rem; color: $muted; }
}

/* Boutons & switch */
.btn {
  border: 1px solid $border; background: $bg; color: $text; padding: .6rem .9rem; border-radius: 10px; cursor: pointer;
  &.primary { background: $primary; color: white; border-color: $primary; &:hover { background: $primary-dark; } }
  &.accent { background: $accent; color: white; border-color: $accent; }
  &.ghost { background: transparent; }
  &.outline { background: white; border-color: $primary; color: $primary; &:hover { background: rgba(0,180,216,.08); } }
  &.full { width: 100%; }
}

/* Switch iOS-like */
.switch { position: relative; width: 46px; height: 26px; display: inline-block;
  input { display: none; }
  .slider { position: absolute; inset: 0; background: #e5e7eb; border-radius: 999px; transition: .2s; }
  .slider::after { content: ''; position: absolute; height: 20px; width: 20px; left: 3px; top: 3px; background: white; border-radius: 50%; transition: .2s; box-shadow: 0 1px 4px rgba(0,0,0,.15); }
  input:checked + .slider { background: $primary; }
  input:checked + .slider::after { transform: translateX(20px); }
}

/* Responsive paddings pour cohabiter avec ta sidebar fixe */
@media (max-width: 992px) {
  .page { padding: 1rem 1rem 2rem; }
}